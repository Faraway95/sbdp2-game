# 修改日志 (Changelog)

## [v2.0.1] - 2025-07-28

### 🐛 Bug修复 (Bug Fixes)

#### 🔐 身份验证系统修复
- **修复问题**：解决输入任意ID会弹出"身份验证失败"的问题
- **增强错误处理**：添加完整的后端异常捕获和数据验证
- **改进用户反馈**：提供具体的错误信息而非通用提示

#### 🔑 密码功能添加
- **企业级登录体验**：添加密码输入字段，增强项目管理系统的真实感
- **6个可用密码**：123456 | admin | password | 666666 | 888888 | project
- **密码提示系统**：在登录界面显示可用密码，符合职场讽刺主题
- **键盘支持**：支持回车键登录，Tab键切换输入框

#### 🎨 界面优化
- **密码提示框**：蓝色企业风格的密码提示区域
- **加载状态改进**：更清晰的"正在验证身份..."提示
- **职场幽默增强**：添加IT部门相关的讽刺文案

#### 🛠️ 技术改进
- **数据库事务安全**：添加rollback机制防止数据不一致
- **API错误处理**：统一的错误响应格式和状态码
- **前端异常处理**：更健壮的错误信息显示逻辑

---

## [v2.0.0] - 2025-07-28

### 🎯 重大更新 - 项目0到1完整体验

**状态：✅ 完成实现**

#### 新增功能 (Added)

##### 🗺️ 关卡地图系统重构
- **项目生命周期地图**：从需求分析到产品上线的完整流程
- **7个核心阶段**：
  1. 需求调研 (项目启动)
  2. 技术评估
  3. 设计评审  
  4. 开发冲刺
  5. 测试验收
  6. 部署上线
  7. 项目总结 (终点Boss)
- **多样化节点类型**：
  - 🎯 普通任务节点
  - ⚡ 紧急需求节点
  - 🏢 重要会议节点 (精英)
  - ☕ 茶水间节点 (商店/休息)
  - 📊 汇报节点 (事件)
  - 👑 阶段Boss节点

##### 🃏 卡牌系统大幅扩展
- **新增10张职场卡牌**：
  - 开会 (消耗敌人精力)
  - 加班 (高伤害，自损血量)
  - 团建 (群体增益)
  - 裁员 (消耗手牌获得资源)
  - 内卷 (回合内攻击力递增)
  - 汇报 (根据手牌数造成伤害)
  - 请假条 (跳过敌人回合)
  - 加薪申请 (获得金钱)
  - KPI考核 (延迟高伤害)
  - 离职威胁 (威慑效果)

##### 📚 牌组管理系统
- **抽牌堆可视化**：显示剩余牌数和顶牌预览
- **弃牌堆管理**：支持查看弃牌堆内容
- **重洗机制**：抽牌堆空时自动重洗弃牌堆
- **抽牌特效**：流畅的卡牌飞入动画
- **牌组统计**：实时显示牌组构成

##### 🏺 遗物系统实现
- **5种核心遗物**：
  - 人体工学椅 (战斗开始获得格挡)
  - 永动机咖啡 (每回合额外精力)
  - 降噪耳机 (免疫首次负面状态)
  - 加班夜宵 (战斗胜利恢复生命)
  - 项目奖金 (击败敌人获得额外金币)
- **遗物获取机制**：Boss战、商店、特殊事件
- **遗物界面**：专门的遗物展示区域

#### 改进优化 (Improved)
- **战斗界面重构**：更清晰的布局和信息展示
- **卡牌动画系统**：播放、抽取、弃牌的流畅动画
- **数值平衡调整**：重新平衡所有卡牌和敌人数值
- **UI响应优化**：更快的界面反应速度
- **视觉特效增强**：更丰富的战斗反馈

#### 技术改进 (Technical)
- **数据模型扩展**：支持复杂的牌组和遗物系统
- **API接口优化**：更高效的数据传输
- **前端状态管理**：改进的游戏状态同步机制
- **数据库结构优化**：支持新的游戏机制

---

## [v1.0.0] - 2025-07-28 (初始版本)

### 🚀 首次发布 - 基础版本

#### 核心功能
- ✅ 基础卡牌战斗系统
- ✅ 5张基础卡牌 (甩锅、摸鱼、画饼、需求变更、向上管理)
- ✅ 3种基础敌人
- ✅ 企业级UI设计
- ✅ 玩家数据持久化
- ✅ 基础地图系统
- ✅ 部署配置

#### 技术实现
- Python Flask 后端框架
- SQLite 数据库
- HTML5/CSS3/JavaScript 前端
- RESTful API 设计
- GitHub Actions 自动部署